{% extends 'form_div_layout.html.twig' %}
{# Widgets #}

{% block form_widget_simple %}
    {% set attr = attr|merge({'class': (attr.class|default('') ~ ' form-control')|trim}) %}
    {{ parent() }}
{% endblock form_widget_simple %}

{% block textarea_widget %}
    {% set attr = attr|merge({'class': (attr.class|default('') ~ ' form-control')|trim}) %}
    {{ parent() }}
{% endblock textarea_widget %}

{% block choice_widget_collapsed %}
{% set attr = attr|merge({'class': (attr.class|default('') ~ ' form-control')|trim}) %}
  {{ parent() }}
{% endblock choice_widget_collapsed %}

{% block money_widget %}
{% spaceless %}
    {{ money_pattern|replace({ '{{ widget }}': block('form_widget_simple') })|raw }}
{% endspaceless %}
{% endblock money_widget %}

{% block percent_widget %}
{% spaceless %}
  {% set type = type|default('text') %}
  <div class="input-group">
    {{ block('form_widget_simple') }}
    <span class="input-group-addon">%</span>
  </div>
{% endspaceless %}
{% endblock percent_widget %}
	
{% block button_widget %}
{% spaceless %}
    {% set attr = attr|merge({'class': (attr.class|default('') ~ ' btn')|trim}) %}
    {% set icon = icon|default('')|trim %}
    {% if label is empty %}
        {% set label = name|humanize %}
    {% endif %}
    <button type="{{ type|default('button') }}" {{ block('button_attributes') }}>
    {%- if icon is not empty -%}
      <span class="glyphicon glyphicon-{{ icon }}"></span>
    {% endif -%}
    {{ label|trans({}, translation_domain) }}</button>
{% endspaceless %}
{% endblock button_widget %}

{% block submit_widget %}
{% spaceless %}
    {% set attr = attr|merge({'class': (attr.class|default('') ~ ' btn-primary')|trim}) %}
    {% set type = type|default('submit') %}
    {{ block('button_widget') }}
{% endspaceless %}
{% endblock submit_widget %}

{% block reset_widget %}
{% spaceless %}
    {% set attr = attr|merge({'class': (attr.class|default('') ~ ' btn-danger')|trim}) %}
    {% set type = type|default('reset') %}
    {{ block('button_widget') }}
{% endspaceless %}
{% endblock reset_widget %}

{# Label #}


{# Rows #}

{% block repeated_row %}
{% spaceless %}
    {#
    No need to render the errors here, as all errors are mapped
    to the first child (see RepeatedTypeValidatorExtension).
    #}
    {{ block('form_rows') }}
{% endspaceless %}
{% endblock repeated_row %}

{% block form_row %}
{% spaceless %}
    <div class="form-group">
        {{ form_label(form) }}
        {{ form_widget(form) }}
        {{ form_errors(form) }}
    </div>
{% endspaceless %}
{% endblock form_row %}

{% block checkbox_row %}
{% spaceless %}
    <div class="checkbox">
      <label>
		{{ form_widget(form) }}        
		{{ form_label(form) }}
        {{ form_errors(form) }}
      </label>
    </div>
{% endspaceless %}
{% endblock checkbox_row %}

{% block radio_row %}
{% spaceless %}
    <div class="radio">
      <label>
        {{ form_widget(form) }}
        {{ form_label(form) }}
        {{ form_errors(form) }}
      </label>
    </div>
{% endspaceless %}
{% endblock radio_row %}

{% block button_row %}
{{ form_widget(form) }}
{% endblock button_row %}

{# Misc #}

{% block form %}
{% spaceless %}
    {{ form_start(form) }}
    {{ form_widget(form) }}
    {{ form_end(form) }}
{% endspaceless %}
{% endblock form %}

{% block form_start %}
	{% set attr = attr|merge({'role': attr.role|default('form')|trim}) %}
	{{ parent() }}
{% endblock form_start %}

{% block form_errors %}
{% spaceless %}
    {% if errors|length > 0 %}
        {% for error in errors %}
            <p class="help-block">{{ error.message }}</p>
        {% endfor %}
    {% endif %}
{% endspaceless %}
{% endblock form_errors %}

{# Support #}
