!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.modalForm.defaults,c);this.listen()};a.prototype={constructor:a,listen:function(){var d="#"+this.$element.attr("id")+"_";var c=this.$element.parent().parent();c.on("submit",function(){b.ajax({url:c.attr("action"),type:c.attr("method"),data:c.serialize(),success:function(e){if(e=="reload"){c.find(".modal-body").html('<div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div>');c.find(".modal-footer").html("");location.reload()}else{c.find(".modal-body").html(e)}}});return false})}};b.fn.modalForm=function(c){return this.each(function(){var f=b(this),e=f.data("modalForm"),d=typeof c=="object"&&c;if(!e){f.data("modalForm",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.modalForm.defaults={};b.fn.modalForm.Constructor=a}(window.jQuery);