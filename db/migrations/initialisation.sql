CREATE TABLE users (id INT AUTO_INCREMENT NOT NULL, contact_id INT DEFAULT NULL, username VARCHAR(180) NOT NULL, username_canonical VARCHAR(180) NOT NULL, email VARCHAR(180) NOT NULL, email_canonical VARCHAR(180) NOT NULL, enabled TINYINT(1) NOT NULL, salt VARCHAR(255) DEFAULT NULL, password VARCHAR(255) NOT NULL, last_login DATETIME DEFAULT NULL, confirmation_token VARCHAR(180) DEFAULT NULL, password_requested_at DATETIME DEFAULT NULL, roles LONGTEXT NOT NULL COMMENT '(DC2Type:array)', UNIQUE INDEX UNIQ_1483A5E992FC23A8 (username_canonical), UNIQUE INDEX UNIQ_1483A5E9A0D96FBF (email_canonical), UNIQUE INDEX UNIQ_1483A5E9C05FB297 (confirmation_token), UNIQUE INDEX UNIQ_1483A5E9E7A1254A (contact_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitters_ask (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, site_id INT DEFAULT NULL, method_id INT DEFAULT NULL, person_id INT DEFAULT NULL, path VARCHAR(255) DEFAULT NULL, creation DATE NOT NULL, maturity DATE DEFAULT NULL, dont_treat LONGTEXT DEFAULT NULL, ask LONGTEXT NOT NULL, INDEX IDX_E9DDB4E4AFD45F7C (trustee_id), INDEX IDX_E9DDB4E4F6BD1646 (site_id), INDEX IDX_E9DDB4E419883967 (method_id), INDEX IDX_E9DDB4E4217BBB47 (person_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_transmitter_product_transmitter (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, INDEX IDX_3EAD03534584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitters_transmitters (id INT AUTO_INCREMENT NOT NULL, attribution_id INT DEFAULT NULL, model_id INT DEFAULT NULL, number VARCHAR(6) NOT NULL, guarantee VARCHAR(4) NOT NULL, userName VARCHAR(255) DEFAULT NULL, isActive TINYINT(1) NOT NULL, userGroup_id INT DEFAULT NULL, replacedTransmitter_id INT DEFAULT NULL, INDEX IDX_6BD51D31EEB69F7B (attribution_id), INDEX IDX_6BD51D312B674466 (userGroup_id), INDEX IDX_6BD51D317975B7E7 (model_id), UNIQUE INDEX UNIQ_6BD51D31CFB27B6F (replacedTransmitter_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitters_usergroups (id INT AUTO_INCREMENT NOT NULL, site_id INT DEFAULT NULL, model_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, INDEX IDX_305DD332F6BD1646 (site_id), INDEX IDX_305DD3327975B7E7 (model_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitters_model (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, text LONGTEXT NOT NULL, UNIQUE INDEX UNIQ_3F2A4AD54584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitters_attributions (id INT AUTO_INCREMENT NOT NULL, ask_id INT DEFAULT NULL, bill_id INT DEFAULT NULL, creation DATE NOT NULL, contact VARCHAR(255) NOT NULL, individual TINYINT(1) NOT NULL, INDEX IDX_BA1C7E74B93F8B63 (ask_id), INDEX IDX_BA1C7E741A8C12F5 (bill_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fees (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, vat_id INT DEFAULT NULL, address LONGTEXT NOT NULL, prelabel LONGTEXT DEFAULT NULL, frequence INT NOT NULL, INDEX IDX_A093C16CAFD45F7C (trustee_id), INDEX IDX_A093C16CB5B63A6B (vat_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fees_contracts (fee_id INT NOT NULL, contract_id INT NOT NULL, INDEX IDX_C60F9BE7AB45AECA (fee_id), INDEX IDX_C60F9BE72576E0FD (contract_id), PRIMARY KEY(fee_id, contract_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fees_follower (id INT AUTO_INCREMENT NOT NULL, activation DATETIME NOT NULL, generation DATETIME DEFAULT NULL, frequence1 NUMERIC(3, 3) DEFAULT NULL, frequence2 NUMERIC(3, 3) DEFAULT NULL, frequence4 NUMERIC(3, 3) DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE technicians (id INT AUTO_INCREMENT NOT NULL, contact_id INT DEFAULT NULL, internalPhone VARCHAR(20) DEFAULT NULL, INDEX IDX_63FB4240E7A1254A (contact_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE door_stops (id INT AUTO_INCREMENT NOT NULL, door_id INT DEFAULT NULL, begin DATETIME NOT NULL, end DATETIME DEFAULT NULL, reason VARCHAR(255) NOT NULL, state VARCHAR(255) NOT NULL, INDEX IDX_C82F338758639EAE (door_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE door_types (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE trustees (id INT AUTO_INCREMENT NOT NULL, contact_id INT DEFAULT NULL, accountNumber INT DEFAULT NULL, billingLabel VARCHAR(255) DEFAULT NULL, billingPhone VARCHAR(20) DEFAULT NULL, billingFax VARCHAR(20) DEFAULT NULL, billingEmail VARCHAR(255) DEFAULT NULL, billingAddress_id INT DEFAULT NULL, INDEX IDX_A8950608E7A1254A (contact_id), UNIQUE INDEX UNIQ_A895060843656FE6 (billingAddress_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE sites (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, address_id INT DEFAULT NULL, lodge_id INT DEFAULT NULL, vat_id INT DEFAULT NULL, accession TINYINT(1) NOT NULL, groupNumber VARCHAR(6) DEFAULT NULL, observations LONGTEXT DEFAULT NULL, INDEX IDX_BC00AA63AFD45F7C (trustee_id), UNIQUE INDEX UNIQ_BC00AA63F5B7AF75 (address_id), UNIQUE INDEX UNIQ_BC00AA63B217AB93 (lodge_id), INDEX IDX_BC00AA63B5B63A6B (vat_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE door_models (id INT AUTO_INCREMENT NOT NULL, type_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, INDEX IDX_4640DBC7C54C8C93 (type_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE site_contacts (id INT AUTO_INCREMENT NOT NULL, site_id INT DEFAULT NULL, person_id INT DEFAULT NULL, role VARCHAR(255) DEFAULT NULL, INDEX IDX_3F0DAAA9F6BD1646 (site_id), INDEX IDX_3F0DAAA9217BBB47 (person_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE transmitter_types (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE doors (id INT AUTO_INCREMENT NOT NULL, site_id INT DEFAULT NULL, type_id INT DEFAULT NULL, model_id INT DEFAULT NULL, street LONGTEXT NOT NULL, location VARCHAR(255) NOT NULL, observations LONGTEXT DEFAULT NULL, googlemaps LONGTEXT DEFAULT NULL, width INT DEFAULT NULL, height INT DEFAULT NULL, stopped TINYINT(1) NOT NULL, billing_prelabel LONGTEXT DEFAULT NULL, latitude DOUBLE PRECISION DEFAULT NULL, longitude DOUBLE PRECISION DEFAULT NULL, code VARCHAR(10) DEFAULT NULL, ceNumber VARCHAR(255) DEFAULT NULL, managerEmails LONGTEXT DEFAULT NULL COMMENT '(DC2Type:array)', accountingEmails LONGTEXT DEFAULT NULL COMMENT '(DC2Type:array)', administratorEmails LONGTEXT DEFAULT NULL COMMENT '(DC2Type:array)', INDEX IDX_5E5B762AF6BD1646 (site_id), INDEX IDX_5E5B762AC54C8C93 (type_id), INDEX IDX_5E5B762A7975B7E7 (model_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE doors_parts (door_id INT NOT NULL, part_id INT NOT NULL, INDEX IDX_49F3F34458639EAE (door_id), INDEX IDX_49F3F3444CE34BEC (part_id), PRIMARY KEY(door_id, part_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE doors_transmitters (door_id INT NOT NULL, transmitters_id INT NOT NULL, INDEX IDX_214F836258639EAE (door_id), INDEX IDX_214F8362FA71AE84 (transmitters_id), PRIMARY KEY(door_id, transmitters_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE orders (id INT AUTO_INCREMENT NOT NULL, creation DATETIME NOT NULL, close DATETIME DEFAULT NULL, time SMALLINT NOT NULL, state INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE askquote (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, site_id INT DEFAULT NULL, method_id INT DEFAULT NULL, person_id INT DEFAULT NULL, door_id INT DEFAULT NULL, path VARCHAR(255) DEFAULT NULL, creation DATE NOT NULL, maturity DATE DEFAULT NULL, dont_treat LONGTEXT DEFAULT NULL, ask LONGTEXT NOT NULL, INDEX IDX_6B83768AAFD45F7C (trustee_id), INDEX IDX_6B83768AF6BD1646 (site_id), INDEX IDX_6B83768A19883967 (method_id), INDEX IDX_6B83768A217BBB47 (person_id), INDEX IDX_6B83768A58639EAE (door_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE order_lines (id INT AUTO_INCREMENT NOT NULL, order_id INT DEFAULT NULL, position SMALLINT DEFAULT NULL, reference VARCHAR(255) DEFAULT NULL, designation VARCHAR(255) NOT NULL, quantity INT NOT NULL, INDEX IDX_CC9FF86B8D9F6D38 (order_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting_fixing (id INT NOT NULL, due_id INT DEFAULT NULL, done_id INT DEFAULT NULL, ask_date DATETIME DEFAULT NULL, observation LONGTEXT DEFAULT NULL, askMethod_id INT DEFAULT NULL, partFamily_id INT DEFAULT NULL, INDEX IDX_42CE6C07866D9843 (due_id), INDEX IDX_42CE6C07A8CDD838 (done_id), INDEX IDX_42CE6C07FB958217 (askMethod_id), INDEX IDX_42CE6C07F83D14D6 (partFamily_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE work_objectives (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fixing_dones (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting_works (id INT NOT NULL, order_id INT DEFAULT NULL, category_id INT DEFAULT NULL, objective_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_57D2710B8D9F6D38 (order_id), INDEX IDX_57D2710B12469DE2 (category_id), INDEX IDX_57D2710B73484933 (objective_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting (id INT AUTO_INCREMENT NOT NULL, creation DATETIME NOT NULL, place LONGTEXT NOT NULL, reason LONGTEXT NOT NULL, actionType VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_daily_product_workshop (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, INDEX IDX_574DBA194584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE work_categories (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting_equipments (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE Ride (id INT AUTO_INCREMENT NOT NULL, departure_id INT DEFAULT NULL, destination_id INT DEFAULT NULL, distance INT NOT NULL, duration INT NOT NULL, INDEX IDX_3B0FD3EE7704ED06 (departure_id), INDEX IDX_3B0FD3EE816C6140 (destination_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting_interventions (id INT NOT NULL, bill_id INT DEFAULT NULL, work_id INT DEFAULT NULL, door_id INT DEFAULT NULL, contact_name VARCHAR(255) DEFAULT NULL, contact_phones LONGTEXT DEFAULT NULL, contact_email LONGTEXT DEFAULT NULL, report LONGTEXT DEFAULT NULL, comments LONGTEXT DEFAULT NULL, priority SMALLINT NOT NULL, close DATETIME DEFAULT NULL, rest LONGTEXT DEFAULT NULL, contract VARCHAR(255) DEFAULT NULL, voucher VARCHAR(255) DEFAULT NULL, external_bill VARCHAR(255) DEFAULT NULL, mustBeBilled TINYINT(1) DEFAULT NULL, contact_customer TINYINT(1) DEFAULT NULL, cancel TINYINT(1) NOT NULL, published TINYINT(1) DEFAULT '0' NOT NULL, askQuote_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_291B3FA21A8C12F5 (bill_id), UNIQUE INDEX UNIQ_291B3FA2BB3453DB (work_id), UNIQUE INDEX UNIQ_291B3FA27E4135B1 (askQuote_id), INDEX IDX_291B3FA258639EAE (door_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fixing_dues (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_daily_product_work (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, INDEX IDX_9928F3964584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shifting_maintenance (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_daily_partfamily (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE shift_technician (id INT AUTO_INCREMENT NOT NULL, shifting_id INT DEFAULT NULL, technician_id INT DEFAULT NULL, creation DATETIME NOT NULL, begin DATETIME NOT NULL, end DATETIME DEFAULT NULL, comment LONGTEXT DEFAULT NULL, INDEX IDX_C6FBA26761CEF47 (shifting_id), INDEX IDX_C6FBA267E6C5D496 (technician_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE technician_standby (id INT AUTO_INCREMENT NOT NULL, technician_id INT DEFAULT NULL, begin DATE NOT NULL, end DATE NOT NULL, INDEX IDX_200DB735E6C5D496 (technician_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_corporation (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_contact (id INT AUTO_INCREMENT NOT NULL, image_id INT DEFAULT NULL, address_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, email VARCHAR(255) DEFAULT NULL, discr VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_11D566613DA5256D (image_id), UNIQUE INDEX UNIQ_11D56661F5B7AF75 (address_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_contact_join_contact_phone (contact_id INT NOT NULL, phone_id INT NOT NULL, INDEX IDX_C2AE9B20E7A1254A (contact_id), UNIQUE INDEX UNIQ_C2AE9B203B7323CB (phone_id), PRIMARY KEY(contact_id, phone_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_company (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_address (id INT AUTO_INCREMENT NOT NULL, city_id INT DEFAULT NULL, street LONGTEXT DEFAULT NULL, INDEX IDX_50F9EFD88BAC62AF (city_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_city (id INT AUTO_INCREMENT NOT NULL, country_code VARCHAR(2) DEFAULT NULL, name VARCHAR(255) NOT NULL, zip VARCHAR(20) NOT NULL, INDEX IDX_4D2ECB6BF026BB7C (country_code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_association (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_corporationcontact (id INT AUTO_INCREMENT NOT NULL, contact_id INT DEFAULT NULL, corporation_id INT DEFAULT NULL, position VARCHAR(255) NOT NULL, INDEX IDX_C1D14A97E7A1254A (contact_id), INDEX IDX_C1D14A97B2685369 (corporation_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_phone (id INT AUTO_INCREMENT NOT NULL, number VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_person (id INT NOT NULL, title VARCHAR(4) NOT NULL, firstName VARCHAR(255) DEFAULT NULL, lastName VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_country (code VARCHAR(2) NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(code)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_contact_contact_phone (id INT AUTO_INCREMENT NOT NULL, phone_id INT DEFAULT NULL, `label` VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_17C3A5BF3B7323CB (phone_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE product_prices (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, quantity INT NOT NULL, unitPrice NUMERIC(10, 2) NOT NULL, INDEX IDX_86B72CFD4584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE product_category (id INT AUTO_INCREMENT NOT NULL, parent_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, INDEX IDX_CDFC7356727ACA70 (parent_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_product_movement (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, quantity INT NOT NULL, move_date DATETIME NOT NULL, INDEX IDX_B7A23D274584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_product_stock (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, quantity INT NOT NULL, minimum INT UNSIGNED DEFAULT 0 NOT NULL, maximum INT UNSIGNED DEFAULT 0 NOT NULL, lastModified DATETIME NOT NULL, UNIQUE INDEX UNIQ_3CF4049F4584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE suppliers (id INT AUTO_INCREMENT NOT NULL, contact_id INT DEFAULT NULL, website VARCHAR(255) DEFAULT NULL, INDEX IDX_AC28B95CE7A1254A (contact_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE products (id INT AUTO_INCREMENT NOT NULL, supplier_id INT DEFAULT NULL, category_id INT DEFAULT NULL, designation VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, reference VARCHAR(16) NOT NULL, barcode VARCHAR(255) DEFAULT NULL, unitPrice NUMERIC(10, 2) NOT NULL, purchase NUMERIC(10, 2) NOT NULL, discount_supplier SMALLINT NOT NULL, expense_ratio SMALLINT NOT NULL, shipping NUMERIC(10, 2) NOT NULL, unity VARCHAR(255) NOT NULL, active TINYINT(1) DEFAULT '1' NOT NULL, INDEX IDX_B3BA5A5A2ADD6D8C (supplier_id), INDEX IDX_B3BA5A5A12469DE2 (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE contracts (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, door_id INT DEFAULT NULL, number VARCHAR(255) NOT NULL, complete TINYINT(1) NOT NULL, contract_option TINYINT(1) NOT NULL, begin DATETIME NOT NULL, end_warranty DATETIME DEFAULT NULL, end_contract DATETIME DEFAULT NULL, fee NUMERIC(10, 2) NOT NULL, INDEX IDX_950A973AFD45F7C (trustee_id), INDEX IDX_950A97358639EAE (door_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE earlypaymentmodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE intromodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE introbillmodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_product_order (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, INDEX IDX_81D967244584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE quote_variant (id INT AUTO_INCREMENT NOT NULL, work_id INT DEFAULT NULL, quote_id INT DEFAULT NULL, creation DATETIME NOT NULL, variant_number SMALLINT NOT NULL, intro LONGTEXT NOT NULL, payment_rules VARCHAR(255) NOT NULL, delivery_rules VARCHAR(255) NOT NULL, discount NUMERIC(10, 7) NOT NULL, state SMALLINT NOT NULL, UNIQUE INDEX UNIQ_1EAC1729BB3453DB (work_id), INDEX IDX_1EAC1729DB805178 (quote_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_quotevariant_join_quote_line (quotevariant_id INT NOT NULL, quoteline_id INT NOT NULL, INDEX IDX_E3936BAF11791C8 (quotevariant_id), UNIQUE INDEX UNIQ_E3936BA8EF03C82 (quoteline_id), PRIMARY KEY(quotevariant_id, quoteline_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE paymentmodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE quote (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, door_id INT DEFAULT NULL, contact_id INT DEFAULT NULL, ask_id INT DEFAULT NULL, creation DATETIME NOT NULL, number INT NOT NULL, trustee_name VARCHAR(255) NOT NULL, trustee_address LONGTEXT NOT NULL, vat NUMERIC(3, 3) NOT NULL, vat_transmitter NUMERIC(3, 3) NOT NULL, follower VARCHAR(255) DEFAULT NULL, follower_cp VARCHAR(255) NOT NULL, door_cp LONGTEXT NOT NULL, contact_cp VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, eventFollower_id INT DEFAULT NULL, contactPerson_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_6B71CBF4111D5ED3 (eventFollower_id), INDEX IDX_6B71CBF4AFD45F7C (trustee_id), INDEX IDX_6B71CBF458639EAE (door_id), INDEX IDX_6B71CBF4E7A1254A (contact_id), INDEX IDX_6B71CBF4B93F8B63 (ask_id), INDEX IDX_6B71CBF4176FE013 (contactPerson_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE quote_lines (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, position SMALLINT DEFAULT NULL, reference VARCHAR(255) DEFAULT NULL, designation VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, show_description TINYINT(1) DEFAULT NULL, is_transmitter TINYINT(1) DEFAULT NULL, quantity INT NOT NULL, unit_price NUMERIC(10, 2) NOT NULL, discount NUMERIC(10, 7) NOT NULL, vat NUMERIC(3, 3) NOT NULL, purchasePrice NUMERIC(10, 2) NOT NULL, discount_supplier NUMERIC(10, 7) NOT NULL, expense_ratio NUMERIC(10, 7) NOT NULL, shipping NUMERIC(10, 2) NOT NULL, INDEX IDX_42FE01F74584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE vat (id INT AUTO_INCREMENT NOT NULL, rate NUMERIC(3, 3) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_event (id INT AUTO_INCREMENT NOT NULL, creation DATETIME NOT NULL, name VARCHAR(255) NOT NULL, options LONGTEXT NOT NULL COMMENT '(DC2Type:array)', PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE delaymodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE bill (id INT AUTO_INCREMENT NOT NULL, trustee_id INT DEFAULT NULL, fee_id INT DEFAULT NULL, creation DATETIME NOT NULL, number INT NOT NULL, trustee_name VARCHAR(255) NOT NULL, trustee_address LONGTEXT NOT NULL, vat NUMERIC(3, 3) NOT NULL, vat_transmitter NUMERIC(3, 3) NOT NULL, prelabel LONGTEXT DEFAULT NULL, reference LONGTEXT NOT NULL, accountNumber VARCHAR(255) DEFAULT NULL, details LONGTEXT DEFAULT NULL, site LONGTEXT NOT NULL, intro LONGTEXT DEFAULT NULL, state SMALLINT NOT NULL, property VARCHAR(255) DEFAULT NULL, earlyPayment VARCHAR(255) NOT NULL, penalty VARCHAR(255) NOT NULL, maturity INT NOT NULL, discount NUMERIC(10, 7) NOT NULL, first_boost DATETIME DEFAULT NULL, second_boost DATETIME DEFAULT NULL, second_boost_comment VARCHAR(255) DEFAULT NULL, amount NUMERIC(10, 2) NOT NULL, eventFollower_id INT DEFAULT NULL, feesFollower_id INT DEFAULT NULL, siteObject_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_7A2119E3111D5ED3 (eventFollower_id), INDEX IDX_7A2119E3AFD45F7C (trustee_id), INDEX IDX_7A2119E3AB45AECA (fee_id), INDEX IDX_7A2119E3BE5E8F93 (feesFollower_id), INDEX IDX_7A2119E383512E32 (siteObject_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_bill_join_bill_line (bill_id INT NOT NULL, billline_id INT NOT NULL, INDEX IDX_9D570A4E1A8C12F5 (bill_id), UNIQUE INDEX UNIQ_9D570A4EA3C9DCD7 (billline_id), PRIMARY KEY(bill_id, billline_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_event_follower (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_commerce_event_follower_join_event (event_follower_id INT NOT NULL, event_id INT NOT NULL, INDEX IDX_BCBDF267AD2BD3 (event_follower_id), UNIQUE INDEX UNIQ_BCBDF2671F7E88B (event_id), PRIMARY KEY(event_follower_id, event_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE penaltymodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE propertymodel (id INT AUTO_INCREMENT NOT NULL, text LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE bill_lines (id INT AUTO_INCREMENT NOT NULL, product_id INT DEFAULT NULL, position SMALLINT DEFAULT NULL, reference VARCHAR(255) DEFAULT NULL, designation VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, show_description TINYINT(1) DEFAULT NULL, is_transmitter TINYINT(1) DEFAULT NULL, quantity INT NOT NULL, unit_price NUMERIC(10, 2) NOT NULL, discount NUMERIC(10, 7) NOT NULL, vat NUMERIC(3, 3) NOT NULL, INDEX IDX_79F1D9084584665A (product_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE askmethods (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_core_calendar (dt DATE NOT NULL, PRIMARY KEY(dt)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_core_upload_document (id INT AUTO_INCREMENT NOT NULL, path VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_follow_starterquote (id INT NOT NULL, variant_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_922C43943B69A9AF (variant_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_follow_thread (id INT AUTO_INCREMENT NOT NULL, starter_id INT DEFAULT NULL, startDate DATETIME NOT NULL, state SMALLINT NOT NULL, UNIQUE INDEX UNIQ_CC1FDB58AD5A66CC (starter_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_follow_starter (id INT AUTO_INCREMENT NOT NULL, work_id INT DEFAULT NULL, discr VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_51BE1740BB3453DB (work_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE jlm_follow_starterintervention (id INT NOT NULL, intervention_id INT DEFAULT NULL, UNIQUE INDEX UNIQ_93A09CAC8EAE3863 (intervention_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE users ADD CONSTRAINT FK_1483A5E9E7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE transmitters_ask ADD CONSTRAINT FK_E9DDB4E4AFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE transmitters_ask ADD CONSTRAINT FK_E9DDB4E4F6BD1646 FOREIGN KEY (site_id) REFERENCES sites (id);
ALTER TABLE transmitters_ask ADD CONSTRAINT FK_E9DDB4E419883967 FOREIGN KEY (method_id) REFERENCES askmethods (id);
ALTER TABLE transmitters_ask ADD CONSTRAINT FK_E9DDB4E4217BBB47 FOREIGN KEY (person_id) REFERENCES jlm_contact_person (id);
ALTER TABLE jlm_transmitter_product_transmitter ADD CONSTRAINT FK_3EAD03534584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE transmitters_transmitters ADD CONSTRAINT FK_6BD51D31EEB69F7B FOREIGN KEY (attribution_id) REFERENCES transmitters_attributions (id);
ALTER TABLE transmitters_transmitters ADD CONSTRAINT FK_6BD51D312B674466 FOREIGN KEY (userGroup_id) REFERENCES transmitters_usergroups (id);
ALTER TABLE transmitters_transmitters ADD CONSTRAINT FK_6BD51D317975B7E7 FOREIGN KEY (model_id) REFERENCES transmitters_model (id);
ALTER TABLE transmitters_transmitters ADD CONSTRAINT FK_6BD51D31CFB27B6F FOREIGN KEY (replacedTransmitter_id) REFERENCES transmitters_transmitters (id);
ALTER TABLE transmitters_usergroups ADD CONSTRAINT FK_305DD332F6BD1646 FOREIGN KEY (site_id) REFERENCES sites (id);
ALTER TABLE transmitters_usergroups ADD CONSTRAINT FK_305DD3327975B7E7 FOREIGN KEY (model_id) REFERENCES transmitters_model (id);
ALTER TABLE transmitters_model ADD CONSTRAINT FK_3F2A4AD54584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE transmitters_attributions ADD CONSTRAINT FK_BA1C7E74B93F8B63 FOREIGN KEY (ask_id) REFERENCES transmitters_ask (id);
ALTER TABLE transmitters_attributions ADD CONSTRAINT FK_BA1C7E741A8C12F5 FOREIGN KEY (bill_id) REFERENCES bill (id);
ALTER TABLE fees ADD CONSTRAINT FK_A093C16CAFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE fees ADD CONSTRAINT FK_A093C16CB5B63A6B FOREIGN KEY (vat_id) REFERENCES vat (id);
ALTER TABLE fees_contracts ADD CONSTRAINT FK_C60F9BE7AB45AECA FOREIGN KEY (fee_id) REFERENCES fees (id);
ALTER TABLE fees_contracts ADD CONSTRAINT FK_C60F9BE72576E0FD FOREIGN KEY (contract_id) REFERENCES contracts (id);
ALTER TABLE technicians ADD CONSTRAINT FK_63FB4240E7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE door_stops ADD CONSTRAINT FK_C82F338758639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE trustees ADD CONSTRAINT FK_A8950608E7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE trustees ADD CONSTRAINT FK_A895060843656FE6 FOREIGN KEY (billingAddress_id) REFERENCES jlm_contact_address (id);
ALTER TABLE sites ADD CONSTRAINT FK_BC00AA63AFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE sites ADD CONSTRAINT FK_BC00AA63F5B7AF75 FOREIGN KEY (address_id) REFERENCES jlm_contact_address (id);
ALTER TABLE sites ADD CONSTRAINT FK_BC00AA63B217AB93 FOREIGN KEY (lodge_id) REFERENCES jlm_contact_address (id);
ALTER TABLE sites ADD CONSTRAINT FK_BC00AA63B5B63A6B FOREIGN KEY (vat_id) REFERENCES vat (id);
ALTER TABLE door_models ADD CONSTRAINT FK_4640DBC7C54C8C93 FOREIGN KEY (type_id) REFERENCES door_types (id);
ALTER TABLE site_contacts ADD CONSTRAINT FK_3F0DAAA9F6BD1646 FOREIGN KEY (site_id) REFERENCES sites (id);
ALTER TABLE site_contacts ADD CONSTRAINT FK_3F0DAAA9217BBB47 FOREIGN KEY (person_id) REFERENCES jlm_contact_person (id);
ALTER TABLE doors ADD CONSTRAINT FK_5E5B762AF6BD1646 FOREIGN KEY (site_id) REFERENCES sites (id);
ALTER TABLE doors ADD CONSTRAINT FK_5E5B762AC54C8C93 FOREIGN KEY (type_id) REFERENCES door_types (id);
ALTER TABLE doors ADD CONSTRAINT FK_5E5B762A7975B7E7 FOREIGN KEY (model_id) REFERENCES door_models (id);
ALTER TABLE doors_parts ADD CONSTRAINT FK_49F3F34458639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE doors_parts ADD CONSTRAINT FK_49F3F3444CE34BEC FOREIGN KEY (part_id) REFERENCES products (id);
ALTER TABLE doors_transmitters ADD CONSTRAINT FK_214F836258639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE doors_transmitters ADD CONSTRAINT FK_214F8362FA71AE84 FOREIGN KEY (transmitters_id) REFERENCES transmitter_types (id);
ALTER TABLE askquote ADD CONSTRAINT FK_6B83768AAFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE askquote ADD CONSTRAINT FK_6B83768AF6BD1646 FOREIGN KEY (site_id) REFERENCES sites (id);
ALTER TABLE askquote ADD CONSTRAINT FK_6B83768A19883967 FOREIGN KEY (method_id) REFERENCES askmethods (id);
ALTER TABLE askquote ADD CONSTRAINT FK_6B83768A217BBB47 FOREIGN KEY (person_id) REFERENCES jlm_contact_person (id);
ALTER TABLE askquote ADD CONSTRAINT FK_6B83768A58639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE order_lines ADD CONSTRAINT FK_CC9FF86B8D9F6D38 FOREIGN KEY (order_id) REFERENCES orders (id);
ALTER TABLE shifting_fixing ADD CONSTRAINT FK_42CE6C07866D9843 FOREIGN KEY (due_id) REFERENCES fixing_dues (id);
ALTER TABLE shifting_fixing ADD CONSTRAINT FK_42CE6C07A8CDD838 FOREIGN KEY (done_id) REFERENCES fixing_dones (id);
ALTER TABLE shifting_fixing ADD CONSTRAINT FK_42CE6C07FB958217 FOREIGN KEY (askMethod_id) REFERENCES askmethods (id);
ALTER TABLE shifting_fixing ADD CONSTRAINT FK_42CE6C07F83D14D6 FOREIGN KEY (partFamily_id) REFERENCES jlm_daily_partfamily (id);
ALTER TABLE shifting_fixing ADD CONSTRAINT FK_42CE6C07BF396750 FOREIGN KEY (id) REFERENCES shifting (id) ON DELETE CASCADE;
ALTER TABLE shifting_works ADD CONSTRAINT FK_57D2710B8D9F6D38 FOREIGN KEY (order_id) REFERENCES orders (id);
ALTER TABLE shifting_works ADD CONSTRAINT FK_57D2710B12469DE2 FOREIGN KEY (category_id) REFERENCES work_categories (id);
ALTER TABLE shifting_works ADD CONSTRAINT FK_57D2710B73484933 FOREIGN KEY (objective_id) REFERENCES work_objectives (id);
ALTER TABLE shifting_works ADD CONSTRAINT FK_57D2710BBF396750 FOREIGN KEY (id) REFERENCES shifting (id) ON DELETE CASCADE;
ALTER TABLE jlm_daily_product_workshop ADD CONSTRAINT FK_574DBA194584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE shifting_equipments ADD CONSTRAINT FK_E85D4703BF396750 FOREIGN KEY (id) REFERENCES shifting (id) ON DELETE CASCADE;
ALTER TABLE Ride ADD CONSTRAINT FK_3B0FD3EE7704ED06 FOREIGN KEY (departure_id) REFERENCES doors (id);
ALTER TABLE Ride ADD CONSTRAINT FK_3B0FD3EE816C6140 FOREIGN KEY (destination_id) REFERENCES doors (id);
ALTER TABLE shifting_interventions ADD CONSTRAINT FK_291B3FA21A8C12F5 FOREIGN KEY (bill_id) REFERENCES bill (id);
ALTER TABLE shifting_interventions ADD CONSTRAINT FK_291B3FA2BB3453DB FOREIGN KEY (work_id) REFERENCES shifting_works (id);
ALTER TABLE shifting_interventions ADD CONSTRAINT FK_291B3FA27E4135B1 FOREIGN KEY (askQuote_id) REFERENCES askquote (id);
ALTER TABLE shifting_interventions ADD CONSTRAINT FK_291B3FA258639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE shifting_interventions ADD CONSTRAINT FK_291B3FA2BF396750 FOREIGN KEY (id) REFERENCES shifting (id) ON DELETE CASCADE;
ALTER TABLE jlm_daily_product_work ADD CONSTRAINT FK_9928F3964584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE shifting_maintenance ADD CONSTRAINT FK_C7BB1DB8BF396750 FOREIGN KEY (id) REFERENCES shifting (id) ON DELETE CASCADE;
ALTER TABLE shift_technician ADD CONSTRAINT FK_C6FBA26761CEF47 FOREIGN KEY (shifting_id) REFERENCES shifting (id);
ALTER TABLE shift_technician ADD CONSTRAINT FK_C6FBA267E6C5D496 FOREIGN KEY (technician_id) REFERENCES technicians (id);
ALTER TABLE technician_standby ADD CONSTRAINT FK_200DB735E6C5D496 FOREIGN KEY (technician_id) REFERENCES technicians (id);
ALTER TABLE jlm_contact_corporation ADD CONSTRAINT FK_6D44181DBF396750 FOREIGN KEY (id) REFERENCES jlm_contact_contact (id) ON DELETE CASCADE;
ALTER TABLE jlm_contact_contact ADD CONSTRAINT FK_11D566613DA5256D FOREIGN KEY (image_id) REFERENCES jlm_core_upload_document (id);
ALTER TABLE jlm_contact_contact ADD CONSTRAINT FK_11D56661F5B7AF75 FOREIGN KEY (address_id) REFERENCES jlm_contact_address (id);
ALTER TABLE jlm_contact_contact_join_contact_phone ADD CONSTRAINT FK_C2AE9B20E7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE jlm_contact_contact_join_contact_phone ADD CONSTRAINT FK_C2AE9B203B7323CB FOREIGN KEY (phone_id) REFERENCES jlm_contact_contact_phone (id);
ALTER TABLE jlm_contact_company ADD CONSTRAINT FK_12088916BF396750 FOREIGN KEY (id) REFERENCES jlm_contact_contact (id) ON DELETE CASCADE;
ALTER TABLE jlm_contact_address ADD CONSTRAINT FK_50F9EFD88BAC62AF FOREIGN KEY (city_id) REFERENCES jlm_contact_city (id);
ALTER TABLE jlm_contact_city ADD CONSTRAINT FK_4D2ECB6BF026BB7C FOREIGN KEY (country_code) REFERENCES jlm_contact_country (code);
ALTER TABLE jlm_contact_association ADD CONSTRAINT FK_14EB6F52BF396750 FOREIGN KEY (id) REFERENCES jlm_contact_contact (id) ON DELETE CASCADE;
ALTER TABLE jlm_contact_corporationcontact ADD CONSTRAINT FK_C1D14A97E7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE jlm_contact_corporationcontact ADD CONSTRAINT FK_C1D14A97B2685369 FOREIGN KEY (corporation_id) REFERENCES jlm_contact_corporation (id);
ALTER TABLE jlm_contact_person ADD CONSTRAINT FK_EB478A8CBF396750 FOREIGN KEY (id) REFERENCES jlm_contact_contact (id) ON DELETE CASCADE;
ALTER TABLE jlm_contact_contact_phone ADD CONSTRAINT FK_17C3A5BF3B7323CB FOREIGN KEY (phone_id) REFERENCES jlm_contact_phone (id);
ALTER TABLE product_prices ADD CONSTRAINT FK_86B72CFD4584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE product_category ADD CONSTRAINT FK_CDFC7356727ACA70 FOREIGN KEY (parent_id) REFERENCES product_category (id);
ALTER TABLE jlm_product_movement ADD CONSTRAINT FK_B7A23D274584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE jlm_product_stock ADD CONSTRAINT FK_3CF4049F4584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE suppliers ADD CONSTRAINT FK_AC28B95CE7A1254A FOREIGN KEY (contact_id) REFERENCES jlm_contact_contact (id);
ALTER TABLE products ADD CONSTRAINT FK_B3BA5A5A2ADD6D8C FOREIGN KEY (supplier_id) REFERENCES suppliers (id);
ALTER TABLE products ADD CONSTRAINT FK_B3BA5A5A12469DE2 FOREIGN KEY (category_id) REFERENCES product_category (id);
ALTER TABLE contracts ADD CONSTRAINT FK_950A973AFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE contracts ADD CONSTRAINT FK_950A97358639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE jlm_commerce_product_order ADD CONSTRAINT FK_81D967244584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE quote_variant ADD CONSTRAINT FK_1EAC1729BB3453DB FOREIGN KEY (work_id) REFERENCES shifting_works (id);
ALTER TABLE quote_variant ADD CONSTRAINT FK_1EAC1729DB805178 FOREIGN KEY (quote_id) REFERENCES quote (id);
ALTER TABLE jlm_commerce_quotevariant_join_quote_line ADD CONSTRAINT FK_E3936BAF11791C8 FOREIGN KEY (quotevariant_id) REFERENCES quote_variant (id);
ALTER TABLE jlm_commerce_quotevariant_join_quote_line ADD CONSTRAINT FK_E3936BA8EF03C82 FOREIGN KEY (quoteline_id) REFERENCES quote_lines (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF4111D5ED3 FOREIGN KEY (eventFollower_id) REFERENCES jlm_commerce_event_follower (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF4AFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF458639EAE FOREIGN KEY (door_id) REFERENCES doors (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF4E7A1254A FOREIGN KEY (contact_id) REFERENCES site_contacts (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF4B93F8B63 FOREIGN KEY (ask_id) REFERENCES askquote (id);
ALTER TABLE quote ADD CONSTRAINT FK_6B71CBF4176FE013 FOREIGN KEY (contactPerson_id) REFERENCES jlm_contact_person (id);
ALTER TABLE quote_lines ADD CONSTRAINT FK_42FE01F74584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE bill ADD CONSTRAINT FK_7A2119E3111D5ED3 FOREIGN KEY (eventFollower_id) REFERENCES jlm_commerce_event_follower (id);
ALTER TABLE bill ADD CONSTRAINT FK_7A2119E3AFD45F7C FOREIGN KEY (trustee_id) REFERENCES trustees (id);
ALTER TABLE bill ADD CONSTRAINT FK_7A2119E3AB45AECA FOREIGN KEY (fee_id) REFERENCES fees (id);
ALTER TABLE bill ADD CONSTRAINT FK_7A2119E3BE5E8F93 FOREIGN KEY (feesFollower_id) REFERENCES fees_follower (id);
ALTER TABLE bill ADD CONSTRAINT FK_7A2119E383512E32 FOREIGN KEY (siteObject_id) REFERENCES sites (id);
ALTER TABLE jlm_commerce_bill_join_bill_line ADD CONSTRAINT FK_9D570A4E1A8C12F5 FOREIGN KEY (bill_id) REFERENCES bill (id);
ALTER TABLE jlm_commerce_bill_join_bill_line ADD CONSTRAINT FK_9D570A4EA3C9DCD7 FOREIGN KEY (billline_id) REFERENCES bill_lines (id);
ALTER TABLE jlm_commerce_event_follower_join_event ADD CONSTRAINT FK_BCBDF267AD2BD3 FOREIGN KEY (event_follower_id) REFERENCES jlm_commerce_event_follower (id);
ALTER TABLE jlm_commerce_event_follower_join_event ADD CONSTRAINT FK_BCBDF2671F7E88B FOREIGN KEY (event_id) REFERENCES jlm_commerce_event (id);
ALTER TABLE bill_lines ADD CONSTRAINT FK_79F1D9084584665A FOREIGN KEY (product_id) REFERENCES products (id);
ALTER TABLE jlm_follow_starterquote ADD CONSTRAINT FK_922C43943B69A9AF FOREIGN KEY (variant_id) REFERENCES quote_variant (id);
ALTER TABLE jlm_follow_starterquote ADD CONSTRAINT FK_922C4394BF396750 FOREIGN KEY (id) REFERENCES jlm_follow_starter (id) ON DELETE CASCADE;
ALTER TABLE jlm_follow_thread ADD CONSTRAINT FK_CC1FDB58AD5A66CC FOREIGN KEY (starter_id) REFERENCES jlm_follow_starter (id);
ALTER TABLE jlm_follow_starter ADD CONSTRAINT FK_51BE1740BB3453DB FOREIGN KEY (work_id) REFERENCES shifting_works (id);
ALTER TABLE jlm_follow_starterintervention ADD CONSTRAINT FK_93A09CAC8EAE3863 FOREIGN KEY (intervention_id) REFERENCES shifting_interventions (id);
ALTER TABLE jlm_follow_starterintervention ADD CONSTRAINT FK_93A09CACBF396750 FOREIGN KEY (id) REFERENCES jlm_follow_starter (id) ON DELETE CASCADE;
INSERT INTO askmethods (id, name) VALUES (1, 'Téléphone'),(2, 'Fax'),(3, 'E-mail');
INSERT INTO delaymodel (id, text) VALUES (1, '1 à 15 jours après accord (selon disponibilité des pièces)'),(2, '5 à 20 jours après acompte'),(3, '1 à 5 semaines après acompte'),(4, 'Le matériel sera expédié dès réception du règlement');
INSERT INTO door_types (id, name) VALUES (1, 'Barrière levante'),(2, 'Portail battant à 1 vantail'),(3, 'Portail battant à 2 vantaux'),(4, 'Portail coulissant'),(5, 'Porte accordéon'),(6, 'Porte basculante'),(7, 'Porte pivotante à 1 vantail'),(8, 'Porte pivotante à 2 vantaux'),(9, 'Portillon'),(10, 'Porte coupe-feu'),(11, 'Alarme'),(12, 'Porte de box'),(13, 'Porte coulissante'),(14, 'Contrôle d''accès'),(15, 'Porte sectionnelle'),(16, 'Porte de hall'),(17, 'Ascenseur'),(18, 'Trappe motorisée'),(19, 'Rideau métallique'),(20, 'Porte piétonne'),(21, 'Porte piétonne vitrée'),(22, 'Borne');
INSERT INTO door_models (id, type_id, name) VALUES (1, 6, 'Chonotec PAP2000'),(2, 6, 'Safir S400'),(3, 6, 'Sindaur 3000'),(4, 6, 'Safir Intro2'),(5, 6, 'Doitrand DBM08'),(6, 6, 'Doitrand DBM05');
INSERT INTO earlypaymentmodel (id, text) VALUES (1, '0.00% pour paiement antcipé.');
INSERT INTO fixing_dones (id, name) VALUES (1, 'Remplacer'),(2, 'Réparer'),(3, 'Mise à l''arrêt'),(4, 'Graissage, essais'),(5, 'Constat'),(6, 'Dépose / Enlèvement'),(7, 'Pose');
INSERT INTO fixing_dues (id, name) VALUES (1, 'Usure'), (2, 'Dégradation'), (3, 'Malveillance'), (4, 'Dysfonctionnement / RAS');
INSERT INTO intromodel (id, text) VALUES (1, 'Suite à votre demande, nous vous soumettons notre proposition concernant'),(2, 'Suite à la visite d''entretien, nous vous soumettons notre proposition concernant'),(3, 'Suite à notre intervention, nous vous soumettons notre proposition concernant'),(4, 'Suite à audit, nous vous soumettons notre proposition concernant'),(5, 'Suite à dégradation, nous vous soumettons notre proposition concernant'),(6, 'Suite à choc véhicule, nous vous soumettons notre proposition concernant'),(7, 'Suite à la visite d''entretien, le technicien a constaté que le marquage au sol était effacé. Nous vous soumettons donc notre proposition concernant la réfection du marquage au sol.'),(8, 'Suite à votre demande, nous vous soumettons notre proposition concernant la fourniture d''émetteurs parking.'),(9, 'Suite à un évenement anormal hors vétusté, nous vous soumettons notre proposition concernant '),(10, 'Dans le cadre de la loi sur l''interdiction des ampoules à incandescence, nous vous soumettons notre proposition concernant le remplacement du feu clignotant par un feu clignotant pouvant accueillir des ampoules à Led (voir devis ci-joint).');
INSERT INTO jlm_contact_country (code, name) VALUES ('FR', 'France');
INSERT INTO jlm_daily_partfamily (id, name) VALUES (1, 'Aucune'),(2, 'Entrainement'),(3, 'Verrouillage'),(4, 'Guidage'),(5, 'Sécurité'),(6, 'Contrôle d''accès'),(7, 'Compensation'),(8, 'Interphonie'),(9, 'Structure'),(10, 'Signalisation'),(11, 'Organe de commande / Gestion'),(13, 'Alimentation'),(14, 'Installation'),(15, 'RAS');
INSERT INTO paymentmodel (id, text) VALUES (1, 'à réception de la facture'),(2, '30% à la commande, le solde fin de travaux'),(3, 'à la commande');
INSERT INTO penaltymodel (id, text) VALUES (1, 'pour non respect de la date d''échéance: 1,3%/mois. Loi n° 92-144 du 31/12/92');
INSERT INTO propertymodel (id, text) VALUES (1, 'HM conserve l''entière propriété des marchandises jusqu''au complet paiement du prix facturé.');
INSERT INTO transmitter_types (id, name) VALUES (1, 'JCM'),(2, 'V2 002'),(3, 'V2 324'),(4, 'Nice Flo'),(5, 'BFT TE0'),(6, 'BFT Mitto'),(7, 'Cardin S435'),(8, 'Cardin S476'),(9, 'Cardin S466'),(10, 'Cardin S738'),(11, 'Cardin S449'),(12, 'Emeraude'),(13, 'Pavé rose'),(14, 'Hexasoft'),(15, 'Urmet'),(16, 'Noralsy'),(17, 'Pas à nous'),(18, 'Prastel'),(19, 'came'),(20, 'JCM Techniciens'),(21, 'Comelit Immotec EHF868/4B');
INSERT INTO vat (id, rate) VALUES (1, 0.200),(2, 0.100),(3, 0.000);
INSERT INTO work_categories (id, name) VALUES (1, 'Petits travaux / SAV'),(2, 'Rénovation'),(3, 'Neuf'),(4, 'Réparation');
INSERT INTO work_objectives (id, name) VALUES (1, 'Mise en service'),(2, 'Levée de réserve');
INSERT INTO users (id, contact_id, username, username_canonical, email, email_canonical, enabled, salt, password, last_login, confirmation_token, password_requested_at, roles) VALUES (1, null, 'yohann', 'yohann', 'h.m.fermeture@gmail.com', 'h.m.fermeture@gmail.com', 1, 'nX.mrISOvwevn4/GXgz84ILbQiC3uZM0OkpLYBXxGtY', 'ZMbt9woDBo1n2M7xysEikoC0JlPe/4BH6dVZNfr+U009y/AziGbEyiKSsqSyOsEFaSMTzxSQfiC6/ZtA67OOng==', null, null, null, 'a:1:{i:0;s:10:"ROLE_ADMIN";}');
INSERT INTO users (id, contact_id, username, username_canonical, email, email_canonical, enabled, salt, password, last_login, confirmation_token, password_requested_at, roles) VALUES (2, null, 'kwizer', 'kwizer', 'emmanuel.bernaszuk@gmail.com', 'emmanuel.bernaszuk@gmail.com', 1, '/5tnf.niPKLhFv9887hwotvsVDXDNdRRaBvPlJv9szY', 'hySBo555KTjKcs1zZbcEgaGNUuFJollTQ2aYkeHYMtLxAvsTkhhmz9Iet0NUSqn+UN2N7xXJG3CfPWo4ZXplyA==', null, null, null, 'a:1:{i:0;s:10:"ROLE_ADMIN";}');